using Gry.Adapters;using Gry;using Nabu.Settings;using System;using System.Collections.Generic;using System.Linq;using System.Text;using System.Threading.Tasks;using Nabu.Sources;namespace Nabu.Network;public class HeadlessHandler(    GlobalSettings global,     ISourceService sources,    INabuNetwork nabu) : IReceiver<AdaptorSettings>{    public Task ReceiveAsync(string @event, AdaptorSettings settings, CancellationToken cancel)    {        if (@event == Adapter.Startup)        {            if (global.ForceHeadless)            {                settings.Headless = true;                settings.Source = global.HeadlessSource;                settings.Program = global.HeadlessProgram;            }        }        return Task.CompletedTask;    }}